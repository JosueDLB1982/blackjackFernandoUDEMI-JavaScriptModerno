(()=>{"use strict";let e=[],l=["C","D","H","S"],t=["A","J","Q","K"],a=document.querySelector("#get"),r=document.querySelector("#stop"),s=document.querySelector("#newGame"),d=[],n=document.querySelectorAll(".divCards"),i=document.querySelectorAll("small"),c=(l=2)=>{e=o();for(let t=0;t<l;t++)d.push(0);i.forEach(e=>e.innerText=0),n.forEach(e=>e.innerHTML=""),a.disabled=!1,r.disabled=!1},o=()=>{e=[],d=[];for(let a=2;a<=10;a++)for(let r of l)e.push(`${a}${r}`);for(let s of l)for(let n of t)e.push(`${n}${s}`);return _.shuffle(e)},$=()=>0===e.length?console.warn("No hay cartas en el Deck"):e.shift(),f=e=>{let l=e.substring(0,e.length-1);return isNaN(l)?"A"===l?11:10:1*l},h=(e,l)=>(d[l]+=f(e),i[l].innerText=d[l],d[l]),u=(e,l)=>{let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),n[l].append(t)},b=()=>{let[e,l]=d;setTimeout(()=>{l===e?alert("Nadie gana"):e>21||l<=21&&l>e?alert("La computadora gana"):l>21&&alert("Genial, has ganado")},100)},g=e=>{let l=0;do{let t=$();if(l=h(t,d.length-1),u(t,d.length-1),e>21){r.disabled=!0;break}}while(l<e&&e<=21);b()};a.addEventListener("click",()=>{let e=$(),l=h(e,0);u(e,0),l>21?(a.disabled=!0,r.disabled=!0,g(l)):21===l&&(a.disabled=!0,r.disabled=!0,g(l))}),r.addEventListener("click",()=>{a.disabled=!0,r.disabled=!0,g(d[0])}),s.addEventListener("click",()=>{c()})})();
